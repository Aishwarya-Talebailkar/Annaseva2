<main>
  <%- include('../partials/agentSidebar') %>

  <div id="main-wrapper">
    <div class="bg-white shadow-sm p-3">
      <span class="me-3" id="sidebar-toggler-btn"
        ><i class="fas fa-bars"></i
      ></span>
      <h5 class="m-0 color-theme d-inline-block">Collection</h5>
    </div>

    <div
      class="m-4"
      style="
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
        gap: 35px;
      "
    >
      <div
        class="bg-white mb-4 p-4"
        style="box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2)"
      >
        <div class="mb-2">
          <span style="font-weight: bold">Donor Name:</span>
          <span
            ><%= collection.donor.firstName + " " + collection.donor.lastName
            %></span
          >
        </div>

        <div class="mb-2">
          <span style="font-weight: bold">Food type:</span>
          <span><%= collection.foodType %></span>
        </div>
        <img
          src="/uploads/<%= collection.foodImage %>"
          alt="Uploaded Food Image"
          width="500px"
          height="300px"
        />

        <div class="mb-2">
          <span style="font-weight: bold">Quantity:</span>
          <span><%= collection.quantity %></span>
        </div>

        <div class="mb-2">
          <span style="font-weight: bold">Time of cooking:</span>
          <span
            ><%= collection.cookingTime.toLocaleString("en-IN", { dateStyle:
            "medium", timeStyle: "short"}) %></span
          >
        </div>

        <div class="mb-2">
          <span style="font-weight: bold">Address to collect:</span>
          <span><%= collection.address %></span>
        </div>

        <div class="mb-2">
          <span style="font-weight: bold">Phone:</span>
          <span><%= collection.phone %></span>
        </div>

        <div class="mb-2">
          <span style="font-weight: bold">Status:</span>
          <span class="fw-bold text-<%= collection.status %>"
            ><%= collection.status %></span
          >
        </div>

        <% if(collection.status == "assigned" && collection.adminToAgentMsg !=
        "") { %>
        <div class="mb-2">
          <span style="font-weight: bold">Message from Admin:</span>
          <div class="ms-3"><%= collection.adminToAgentMsg %></div>
        </div>
        <% } %> <% if(collection.status == "collected") { %>
        <div class="mb-2">
          <span style="font-weight: bold">Collection time:</span>
          <span
            ><%= collection.collectionTime.toLocaleString("en-IN", { dateStyle:
            "medium", timeStyle: "short"}) %></span
          >
        </div>
        <% } %>
      </div>
    </div>
  </div>
</main>
